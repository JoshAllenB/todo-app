(()=>{"use strict";function e(e,t){const n=document.createElement("label");return n.setAttribute("for",t),n.textContent=e,n}function t(e,t,n){const o=document.createElement("input");return o.type=e,o.id=t,o.required=n,o}function n(){const n=document.querySelector(".todoBtn"),c=document.getElementById("inbox"),i=document.getElementById("mainContent");n&&c&&(n.style.display=c.classList.contains("active")?"block":"none",c.addEventListener("click",(function(){n.style.display="block"})),n.addEventListener("click",(function(){const n=function(){const n=document.createElement("div");n.id="todoModal",n.classList.add("modal");const o=document.createElement("div");o.classList.add("modal-content");const d=document.createElement("span");d.classList.add("close"),d.innerHTML="&times;";const c=e("Task Name:","todoName"),i=t("text","todoName",!0),a=e("Date:","todoDate"),l=t("date","todoDate",!0),s=document.createElement("button");return s.id="submitTodo",s.textContent="Submit",o.appendChild(d),o.appendChild(c),o.appendChild(i),o.appendChild(a),o.appendChild(l),o.appendChild(s),n.appendChild(o),n}();i.appendChild(n),o(n),d()})))}function o(e){const t=document.querySelector(".close");t&&t.addEventListener("click",(function(){e.style.display="none",console.log("Hotdog Clicked"),e.remove()}))}function d(){const e=document.getElementById("submitTodo"),t=document.getElementById("todoModal"),n=document.querySelector(".todoList");let o=document.querySelector(".todo-item-wrapper");o||(o=document.createElement("div"),o.classList.add("todo-item-wrapper")),e&&t&&n&&o&&e.addEventListener("click",(function(){const e=document.getElementById("todoName").value,d=document.getElementById("todoDate").value,c=document.createElement("div");c.classList.add("todo-item");const i=document.createElement("span");i.classList.add("checkmark");const a=document.createElement("input");a.type="checkbox";const l=document.createElement("h3");l.textContent=e;const s=document.createElement("p");s.textContent=d,i.appendChild(a),c.appendChild(i),c.appendChild(l),c.appendChild(s),o.appendChild(c),new Date(d);const r=Array.from(o.children).sort(((e,t)=>new Date(e.querySelector("p").textContent)-new Date(t.querySelector("p").textContent)));o.innerHTML="",r.forEach((e=>{o.appendChild(e)})),o.parentElement||n.appendChild(o),t.style.display="none",t.remove(),a.addEventListener("change",(function(){a.checked&&c.remove()}))}))}function c(){const e=document.getElementById("add-project");if(e){const n=document.querySelector(".project"),o=function(){if(n&&n.querySelector(".project-input-container"))return;const e=document.createElement("input");e.type="text",e.placeholder="Enter project name";const o=document.createElement("button");o.textContent="Submit",o.classList.add("submit-btn");const d=document.createElement("button");d.textContent="Cancel",d.classList.add("cancel-btn");const c=document.createElement("div");c.classList.add("project-input-container"),c.appendChild(e),c.appendChild(o),c.appendChild(d),o.addEventListener("click",(function(){const o=e.value.trim();if(o){console.log("Project Name:",o);const e=document.createElement("div");e.classList.add("project-item");const d=document.createElement("span");d.textContent=o;const i=document.createElement("button");i.textContent="x",i.classList.add("delete-btn"),i.addEventListener("click",(function(){e.remove(),t()})),e.appendChild(d),e.appendChild(i),n.appendChild(e),c.remove(),t()}else alert("Please enter a project name.")})),d.addEventListener("click",(function(){c.remove()})),n&&(n.appendChild(c),t())};e.addEventListener("click",o)}function t(){projectDiv.querySelectorAll(".project-item").length>5?projectDiv.style.overflowY="scroll":projectDiv.style.overflowY="hidden"}}let i;function a(){return i||(i=document.createElement("div"),i.classList.add("content"),i.setAttribute("id","mainContent")),i}!function(){const e=document.createElement("header"),t=document.createElement("h1");t.textContent="To-Do List",e.appendChild(t),document.body.appendChild(e)}(),function(){const e=a(),t=document.createElement("div");function o(e,t){const n=document.createElement("button");return n.textContent=e,n.id=t,n}t.classList.add("sideMenu");const d=document.createElement("div");d.classList.add("home"),d.innerHTML="<h1>Home</h1>";const c=o("Inbox","inbox");d.appendChild(c),d.appendChild(o("Today","today")),d.appendChild(o("This Week","this-week"));const i=document.createElement("div");i.classList.add("project"),i.innerHTML="<h1>Project</h1>";const l=o("+ Add Project","add-project");i.appendChild(l),t.appendChild(d),t.appendChild(i),e.appendChild(t),document.body.appendChild(e),n()}(),function(){const e=a(),t=document.createElement("div");t.classList.add("todoList");const n=document.createElement("button");n.classList.add("todoBtn"),n.textContent="Add To-Do List",t.appendChild(n),e.appendChild(t)}(),function(){const e=document.querySelector(".sideMenu");e&&e.querySelectorAll("button").forEach((t=>{t.addEventListener("click",(()=>{e.querySelectorAll("button").forEach((e=>e.classList.remove("active"))),t.classList.add("active");const n=document.querySelector(".todoBtn"),o=document.getElementById("todoModal");"inbox"!==t.id&&(n.style.display="none",o&&(o.style.display="none")),"add-project"===t.id&&c()}))}))}(),n(),o(),d(),c(),function(){const e=document.createElement("footer"),t=document.createElement("div");t.classList.add("link");const n=function(e){const t=document.createElement("h1");return t.innerHTML='Copyright <i class="fa-regular fa-copyright"></i> JoshAllen',t}();t.appendChild(n),e.appendChild(t),document.body.appendChild(e)}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLM0QsWUFBWXBCLEdBQ2pCSSxFQUFRZ0IsWUFBWTJELEVBQ3RCLENBS0VDLEdEMUZGLFdBQ0UsTUFBTVAsRUFBV25GLFNBQVNXLGNBQWMsYUFFcEN3RSxHQUNGQSxFQUFTUixpQkFBaUIsVUFBVW5CLFNBQVE2QixJQUMxQ0EsRUFBT2xFLGlCQUFpQixTQUFTLEtBQy9CZ0UsRUFBU1IsaUJBQWlCLFVBQVVuQixTQUFRRCxHQUFLQSxFQUFFdEMsVUFBVW9CLE9BQU8sWUFDcEVnRCxFQUFPcEUsVUFBVUksSUFBSSxVQUVyQixNQUFNWCxFQUFVVixTQUFTVyxjQUFjLFlBQ2pDUyxFQUFRcEIsU0FBU2EsZUFBZSxhQUVwQixVQUFkd0UsRUFBTy9FLEtBQ1RJLEVBQVFLLE1BQU1DLFFBQVUsT0FFcEJJLElBQ0ZBLEVBQU1MLE1BQU1DLFFBQVUsU0FLUixnQkFBZHFFLEVBQU8vRSxJQUVUc0QsR0FDRixHQUNBLEdBR1IsQ0F5T0UrQixHQUNBbEYsSUFDQXVCLElBQ0FDLElBQ0EyQixJQzlQRixXQUNFLE1BQU9nQyxFQUFTNUYsU0FBU0MsY0FBYyxVQUNqQzRGLEVBQWE3RixTQUFTQyxjQUFjLE9BQzFDNEYsRUFBVzVFLFVBQVVJLElBQUksUUFFekIsTUFBTXlFLEVBTVIsU0FBMEJqRyxHQUN4QixNQUFNa0csRUFBTy9GLFNBQVNDLGNBQWMsTUFFcEMsT0FEQThGLEVBQUt2RSxVQVI4Qiw4REFTNUJ1RSxDQUNULENBVm9CQyxHQUNsQkgsRUFBVy9ELFlBQVlnRSxHQUN2QkYsRUFBTzlELFlBQVkrRCxHQUNuQjdGLFNBQVNpRixLQUFLbkQsWUFBWThELEVBQzVCLENBd0VFSyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1hcHAvLi9zcmMvbW9kYWwuanMiLCJ3ZWJwYWNrOi8vdG9kby1hcHAvLi9zcmMvaGFuZGxlci5qcyIsIndlYnBhY2s6Ly90b2RvLWFwcC8uL3NyYy93ZWJzaXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJztcblxuZnVuY3Rpb24gY3JlYXRlTW9kYWwoKSB7XG4gIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG1vZGFsLmlkID0gJ3RvZG9Nb2RhbCc7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG5cbiAgY29uc3QgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG1vZGFsQ29udGVudC5jbGFzc0xpc3QuYWRkKCdtb2RhbC1jb250ZW50Jyk7XG5cbiAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIGNsb3NlQnRuLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlJyk7XG4gIGNsb3NlQnRuLmlubmVySFRNTCA9ICcmdGltZXM7JztcblxuICBjb25zdCBuYW1lTGFiZWwgPSBjcmVhdGVMYWJlbCgnVGFzayBOYW1lOicsICd0b2RvTmFtZScpO1xuICBjb25zdCBuYW1lSW5wdXQgPSBjcmVhdGVJbnB1dCgndGV4dCcsICd0b2RvTmFtZScsIHRydWUpO1xuXG4gIGNvbnN0IGRhdGVMYWJlbCA9IGNyZWF0ZUxhYmVsKCdEYXRlOicsICd0b2RvRGF0ZScpO1xuICBjb25zdCBkYXRlSW5wdXQgPSBjcmVhdGVJbnB1dCgnZGF0ZScsICd0b2RvRGF0ZScsIHRydWUpO1xuXG4gIGNvbnN0IHN1Ym1pdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBzdWJtaXRCdG4uaWQgPSAnc3VibWl0VG9kbyc7XG4gIHN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9ICdTdWJtaXQnO1xuXG4gIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChjbG9zZUJ0bik7XG4gIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChuYW1lTGFiZWwpO1xuICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQobmFtZUlucHV0KTtcbiAgbW9kYWxDb250ZW50LmFwcGVuZENoaWxkKGRhdGVMYWJlbCk7XG4gIG1vZGFsQ29udGVudC5hcHBlbmRDaGlsZChkYXRlSW5wdXQpO1xuICBtb2RhbENvbnRlbnQuYXBwZW5kQ2hpbGQoc3VibWl0QnRuKTtcblxuICBtb2RhbC5hcHBlbmRDaGlsZChtb2RhbENvbnRlbnQpO1xuXG4gIHJldHVybiBtb2RhbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGFiZWwodGV4dCwgaHRtbEZvcikge1xuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgaHRtbEZvcik7XG4gIGxhYmVsLnRleHRDb250ZW50ID0gdGV4dDtcbiAgcmV0dXJuIGxhYmVsO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnB1dCh0eXBlLCBpZCwgcmVxdWlyZWQpIHtcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBpbnB1dC50eXBlID0gdHlwZTtcbiAgaW5wdXQuaWQgPSBpZDtcbiAgaW5wdXQucmVxdWlyZWQgPSByZXF1aXJlZDtcbiAgcmV0dXJuIGlucHV0O1xufVxuXG5leHBvcnQgeyBjcmVhdGVNb2RhbCB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlTW9kYWwgfSBmcm9tIFwiLi9tb2RhbFwiO1xuXG5mdW5jdGlvbiBhY3RpdmVCdG4oKSB7XG4gIGNvbnN0IHNpZGVNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGVNZW51Jyk7XG5cbiAgaWYgKHNpZGVNZW51KSB7XG4gICAgc2lkZU1lbnUucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykuZm9yRWFjaChidXR0b24gPT4ge1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBzaWRlTWVudS5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKS5mb3JFYWNoKGIgPT4gYi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgICAgICBjb25zdCB0b2RvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9CdG4nKTtcbiAgICAgICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb01vZGFsJyk7XG5cbiAgICAgICAgaWYgKGJ1dHRvbi5pZCAhPT0gJ2luYm94Jykge1xuICAgICAgICAgIHRvZG9CdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICAgIGlmIChtb2RhbCkge1xuICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgY2xpY2tlZCBidXR0b24gaXMgdGhlIHByb2plY3QgYnV0dG9uXG4gICAgICAgIGlmIChidXR0b24uaWQgPT09ICdhZGQtcHJvamVjdCcpIHtcbiAgICAgICAgICAvLyBIYW5kbGUgdGhlIHByb2plY3QgYnV0dG9uIGNsaWNrXG4gICAgICAgICAgcHJvamVjdEhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5ib3hIYW5kbGVyKCkge1xuICBjb25zdCB0b2RvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9CdG4nKTtcbiAgY29uc3QgaW5ib3hCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5ib3gnKTtcbiAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluQ29udGVudCcpO1xuXG4gIGlmICh0b2RvQnRuICYmIGluYm94QnRuKSB7XG4gICAgLy8gU2V0IHRoZSBpbml0aWFsIHN0YXRlIG9mIHRoZSBidXR0b25cbiAgICB0b2RvQnRuLnN0eWxlLmRpc3BsYXkgPSBpbmJveEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpID8gJ2Jsb2NrJyA6ICdub25lJztcblxuICAgIC8vIEFkZCBhbiBldmVudCBsaXN0ZW5lciBmb3Igc3Vic2VxdWVudCBjbGlja3NcbiAgICBpbmJveEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgdG9kb0J0bi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9KTtcblxuICAgIHRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IG1vZGFsID0gY3JlYXRlTW9kYWwoKTtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobW9kYWwpO1xuICAgICAgY2xvc2VNb2RhbChtb2RhbCk7IC8vIEFkZCBldmVudCBsaXN0ZW5lciBhZnRlciBhcHBlbmRpbmcgdGhlIG1vZGFsXG4gICAgICBzdWJtaXRUb2RvKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xuICBjb25zdCBjbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZScpO1xuXG4gIGlmIChjbG9zZSkge1xuICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgY29uc29sZS5sb2coJ0hvdGRvZyBDbGlja2VkJylcblxuICAgICAgbW9kYWwucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3VibWl0VG9kbygpIHtcbiAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1Ym1pdFRvZG8nKTtcbiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kb01vZGFsJyk7XG4gIGNvbnN0IHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9MaXN0Jyk7XG5cbiAgLy8gQ3JlYXRlIGEgc2luZ2xlIHdyYXBwZXIgZGl2IGZvciBhbGwgdG9kbyBpdGVtc1xuICBsZXQgdG9kb0l0ZW1XcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8taXRlbS13cmFwcGVyJyk7XG5cbiAgaWYgKCF0b2RvSXRlbVdyYXBwZXIpIHtcbiAgICB0b2RvSXRlbVdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b2RvSXRlbVdyYXBwZXIuY2xhc3NMaXN0LmFkZCgndG9kby1pdGVtLXdyYXBwZXInKTtcbiAgfVxuXG4gIGlmIChzdWJtaXRCdG4gJiYgbW9kYWwgJiYgdG9kb0xpc3QgJiYgdG9kb0l0ZW1XcmFwcGVyKSB7XG4gICAgc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gR2V0IHZhbHVlcyBmcm9tIHRoZSBtb2RhbCBpbnB1dHNcbiAgICAgIGNvbnN0IHRvZG9OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG9OYW1lJykudmFsdWU7XG4gICAgICBjb25zdCB0b2RvRGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvRGF0ZScpLnZhbHVlO1xuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgZGl2IHRvIHJlcHJlc2VudCB0aGUgdG9kbyBpdGVtXG4gICAgICBjb25zdCB0b2RvSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdG9kb0l0ZW0uY2xhc3NMaXN0LmFkZCgndG9kby1pdGVtJyk7IC8vIEFkZCB0aGUgY2hlY2tib3ggc3R5bGVzXG5cbiAgICAgIC8vIENyZWF0ZSBhIHNwYW4gd2l0aCB0aGUgY2hlY2ttYXJrIGNsYXNzXG4gICAgICBjb25zdCBjaGVja21hcmtTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgY2hlY2ttYXJrU3Bhbi5jbGFzc0xpc3QuYWRkKCdjaGVja21hcmsnKTtcblxuICAgICAgLy8gQ3JlYXRlIGEgY2hlY2tib3hcbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgIGNoZWNrYm94LnR5cGUgPSAnY2hlY2tib3gnO1xuXG4gICAgICAvLyBDcmVhdGUgaDMgYW5kIHAgZWxlbWVudHMgZm9yIHRoZSB0b2RvIG5hbWUgYW5kIGRhdGVcbiAgICAgIGNvbnN0IG5hbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICAgIG5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdG9kb05hbWU7XG5cbiAgICAgIGNvbnN0IGRhdGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgZGF0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0b2RvRGF0ZTtcblxuICAgICAgLy8gQXBwZW5kIHRoZSBjaGVja2JveCB0byB0aGUgc3BhbiwgYW5kIHRoZSBzcGFuIHRvIHRoZSB0b2RvIGl0ZW1cbiAgICAgIGNoZWNrbWFya1NwYW4uYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xuICAgICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQoY2hlY2ttYXJrU3Bhbik7XG4gICAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZChuYW1lRWxlbWVudCk7XG4gICAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZChkYXRlRWxlbWVudCk7XG5cbiAgICAgIC8vIEFwcGVuZCB0aGUgdG9kbyBpdGVtIHRvIHRoZSBjb21tb24gd3JhcHBlciBkaXZcbiAgICAgIHRvZG9JdGVtV3JhcHBlci5hcHBlbmRDaGlsZCh0b2RvSXRlbSk7XG5cbiAgICAgIC8vIENvbnZlcnQgdGhlIGRhdGUgc3RyaW5nIHRvIGEgSmF2YVNjcmlwdCBEYXRlIG9iamVjdFxuICAgICAgY29uc3QgdG9kb0RhdGVUaW1lID0gbmV3IERhdGUodG9kb0RhdGUpO1xuXG4gICAgICAvLyBTb3J0IHRvZG8gaXRlbXMgYmFzZWQgb24gZGF0ZSBiZWZvcmUgYXBwZW5kaW5nXG4gICAgICBjb25zdCBzb3J0ZWRUb2RvSXRlbXMgPSBBcnJheS5mcm9tKHRvZG9JdGVtV3JhcHBlci5jaGlsZHJlbikuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBjb25zdCBkYXRlQSA9IG5ldyBEYXRlKGEucXVlcnlTZWxlY3RvcigncCcpLnRleHRDb250ZW50KTtcbiAgICAgICAgY29uc3QgZGF0ZUIgPSBuZXcgRGF0ZShiLnF1ZXJ5U2VsZWN0b3IoJ3AnKS50ZXh0Q29udGVudCk7XG4gICAgICAgIHJldHVybiBkYXRlQSAtIGRhdGVCO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENsZWFyIHRoZSBleGlzdGluZyB0b2RvIGl0ZW1zIGluIHRoZSB3cmFwcGVyXG4gICAgICB0b2RvSXRlbVdyYXBwZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgIC8vIEFwcGVuZCB0aGUgc29ydGVkIHRvZG8gaXRlbXMgdG8gdGhlIHdyYXBwZXIgZGl2XG4gICAgICBzb3J0ZWRUb2RvSXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgdG9kb0l0ZW1XcmFwcGVyLmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFwcGVuZCB0aGUgd3JhcHBlciBkaXYgdG8gdGhlIHRvZG9MaXN0IGRpdiAoaWYgbm90IGFscmVhZHkgYXBwZW5kZWQpXG4gICAgICBpZiAoIXRvZG9JdGVtV3JhcHBlci5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHRvZG9MaXN0LmFwcGVuZENoaWxkKHRvZG9JdGVtV3JhcHBlcik7XG4gICAgICB9XG5cbiAgICAgIC8vIEhpZGUgYW5kIHJlbW92ZSB0aGUgbW9kYWxcbiAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBtb2RhbC5yZW1vdmUoKTtcblxuICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBjaGVja2JveCBmb3IgcmVtb3ZhbFxuICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG9kbyBpdGVtIHdoZW4gdGhlIGNoZWNrYm94IGlzIGNoZWNrZWRcbiAgICAgICAgICB0b2RvSXRlbS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvamVjdEhhbmRsZXIoKSB7XG4gIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkLXByb2plY3QnKTtcblxuICBpZiAoYWRkUHJvamVjdEJ0bikge1xuICAgIC8vIEZpbmQgdGhlIHByb2plY3QgZGl2IHdpdGhpbiB0aGUgc2lkZU1lbnVcbiAgICBjb25zdCBwcm9qZWN0RGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QnKTtcblxuICAgIGNvbnN0IGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGlucHV0IGZpZWxkIGlzIGFscmVhZHkgY3JlYXRlZFxuICAgICAgaWYgKHByb2plY3REaXYgJiYgcHJvamVjdERpdi5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1pbnB1dC1jb250YWluZXInKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBhbiBpbnB1dCBlbGVtZW50XG4gICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgaW5wdXRFbGVtZW50LnR5cGUgPSAndGV4dCc7XG4gICAgICBpbnB1dEVsZW1lbnQucGxhY2Vob2xkZXIgPSAnRW50ZXIgcHJvamVjdCBuYW1lJztcblxuICAgICAgLy8gQ3JlYXRlIGEgc3VibWl0IGJ1dHRvblxuICAgICAgY29uc3Qgc3VibWl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSAnU3VibWl0JztcbiAgICAgIHN1Ym1pdEJ0bi5jbGFzc0xpc3QuYWRkKCdzdWJtaXQtYnRuJyk7IC8vIEFkZCBhIGNsYXNzIGZvciBzdHlsaW5nXG5cbiAgICAgIC8vIENyZWF0ZSBhIGNhbmNlbCBidXR0b25cbiAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgY2FuY2VsQnRuLnRleHRDb250ZW50ID0gJ0NhbmNlbCc7XG4gICAgICBjYW5jZWxCdG4uY2xhc3NMaXN0LmFkZCgnY2FuY2VsLWJ0bicpOyAvLyBBZGQgYSBjbGFzcyBmb3Igc3R5bGluZ1xuXG4gICAgICAvLyBDcmVhdGUgYSBjb250YWluZXIgZGl2IGZvciB0aGUgaW5wdXQsIHN1Ym1pdCwgYW5kIGNhbmNlbCBidXR0b25zXG4gICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWlucHV0LWNvbnRhaW5lcicpOyAvLyBVcGRhdGVkIGNsYXNzIG5hbWVcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHN1Ym1pdEJ0bik7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FuY2VsQnRuKTtcblxuICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBzdWJtaXQgYnV0dG9uXG4gICAgICBzdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdE5hbWUgPSBpbnB1dEVsZW1lbnQudmFsdWUudHJpbSgpOyAvLyBUcmltIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2VzXG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHByb2plY3QgbmFtZSBpcyBub3QgZW1wdHlcbiAgICAgICAgaWYgKHByb2plY3ROYW1lKSB7XG4gICAgICAgICAgLy8gRG8gc29tZXRoaW5nIHdpdGggdGhlIHByb2plY3QgbmFtZSAoZS5nLiwgZGlzcGxheSBpdCBpbiBjb25zb2xlKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCdQcm9qZWN0IE5hbWU6JywgcHJvamVjdE5hbWUpO1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGRpdiB0byByZXByZXNlbnQgdGhlIHByb2plY3QgaXRlbVxuICAgICAgICAgIGNvbnN0IHByb2plY3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgcHJvamVjdEl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvamVjdC1pdGVtJyk7IC8vIEFkZCB0aGUgc2FtZSBjbGFzcyBmb3Igc3R5bGluZ1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIGEgc3BhbiB3aXRoIHRoZSBwcm9qZWN0IG5hbWVcbiAgICAgICAgICBjb25zdCBwcm9qZWN0TmFtZVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgcHJvamVjdE5hbWVTcGFuLnRleHRDb250ZW50ID0gcHJvamVjdE5hbWU7XG5cbiAgICAgICAgICAvLyBDcmVhdGUgYSBkZWxldGUgYnV0dG9uXG4gICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gJ3gnO1xuICAgICAgICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdkZWxldGUtYnRuJyk7IC8vIEFkZCBhIGNsYXNzIGZvciBzdHlsaW5nXG5cbiAgICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGRlbGV0ZSBidXR0b25cbiAgICAgICAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgcHJvamVjdCBpdGVtIHdoZW4gdGhlIGRlbGV0ZSBidXR0b24gaXMgY2xpY2tlZFxuICAgICAgICAgICAgcHJvamVjdEl0ZW0ucmVtb3ZlKCk7XG4gICAgICAgICAgICBjaGVja1Njcm9sbEJhcigpOyAvLyBDaGVjayBpZiBzY3JvbGxiYXIgaXMgbmVlZGVkIGFmdGVyIHJlbW92YWxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEFwcGVuZCB0aGUgc3BhbiBhbmQgZGVsZXRlIGJ1dHRvbiB0byB0aGUgcHJvamVjdCBpdGVtXG4gICAgICAgICAgcHJvamVjdEl0ZW0uYXBwZW5kQ2hpbGQocHJvamVjdE5hbWVTcGFuKTtcbiAgICAgICAgICBwcm9qZWN0SXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuXG4gICAgICAgICAgLy8gQXBwZW5kIHRoZSBwcm9qZWN0IGl0ZW0gdG8gdGhlIGNvbW1vbiB3cmFwcGVyIGRpdlxuICAgICAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdEl0ZW0pO1xuXG4gICAgICAgICAgLy8gUmVtb3ZlIHRoZSBjb250YWluZXIgZnJvbSB0aGUgcHJvamVjdCBkaXZcbiAgICAgICAgICBjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgY2hlY2tTY3JvbGxCYXIoKTsgLy8gQ2hlY2sgaWYgc2Nyb2xsYmFyIGlzIG5lZWRlZCBhZnRlciBhZGRpdGlvblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIERpc3BsYXkgYW4gYWxlcnQgb3Igc29tZSBpbmRpY2F0aW9uIHRvIHRoZSB1c2VyIHRoYXQgdGhlIHByb2plY3QgbmFtZSBpcyByZXF1aXJlZFxuICAgICAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSBwcm9qZWN0IG5hbWUuJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGNhbmNlbCBidXR0b25cbiAgICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGNvbnRhaW5lciBmcm9tIHRoZSBwcm9qZWN0IGRpdiB3aXRob3V0IGNyZWF0aW5nIGEgcHJvamVjdFxuICAgICAgICBjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQXBwZW5kIHRoZSBjb250YWluZXIgdG8gdGhlIHByb2plY3QgZGl2XG4gICAgICBpZiAocHJvamVjdERpdikge1xuICAgICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgIGNoZWNrU2Nyb2xsQmFyKCk7IC8vIENoZWNrIGlmIHNjcm9sbGJhciBpcyBuZWVkZWQgYWZ0ZXIgYWRkaXRpb25cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlcik7XG4gIH1cblxuICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiBzY3JvbGxiYXIgaXMgbmVlZGVkIGFuZCBhcHBseSBDU1Mgc3R5bGVcbiAgZnVuY3Rpb24gY2hlY2tTY3JvbGxCYXIoKSB7XG4gICAgY29uc3QgcHJvamVjdEl0ZW1zID0gcHJvamVjdERpdi5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1pdGVtJyk7XG4gICAgY29uc3QgbWF4UHJvamVjdHNCZWZvcmVTY3JvbGxCYXIgPSA1OyAvLyBBZGp1c3QgdGhlIG51bWJlciBvZiBwcm9qZWN0cyBiZWZvcmUgc2Nyb2xsYmFyIGFwcGVhcnNcblxuICAgIGlmIChwcm9qZWN0SXRlbXMubGVuZ3RoID4gbWF4UHJvamVjdHNCZWZvcmVTY3JvbGxCYXIpIHtcbiAgICAgIHByb2plY3REaXYuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2plY3REaXYuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRIYW5kbGVyKCkge1xuICBhY3RpdmVCdG4oKTtcbiAgaW5ib3hIYW5kbGVyKCk7XG4gIGNsb3NlTW9kYWwoKTtcbiAgc3VibWl0VG9kbygpO1xuICBwcm9qZWN0SGFuZGxlcigpO1xufVxuXG5leHBvcnQgeyBpbml0SGFuZGxlciwgaW5ib3hIYW5kbGVyLCBwcm9qZWN0SGFuZGxlciB9OyIsImltcG9ydCB7IGluaXRIYW5kbGVyIH0gZnJvbSBcIi4vaGFuZGxlclwiO1xuaW1wb3J0IHsgaW5ib3hIYW5kbGVyIH0gZnJvbSBcIi4vaGFuZGxlclwiO1xuaW1wb3J0IHsgcHJvamVjdEhhbmRsZXIgfSBmcm9tIFwiLi9oYW5kbGVyXCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlcigpe1xuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkZXInKTtcbiAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICB0aXRsZS50ZXh0Q29udGVudCA9ICdUby1EbyBMaXN0JztcblxuICBoZWFkZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhlYWRlcik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZvb3RlcigpIHtcbiAgY29uc3QgIGZvb3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvb3RlcicpO1xuICBjb25zdCBmb290ZXJMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvb3RlckxpbmsuY2xhc3NMaXN0LmFkZCgnbGluaycpO1xuXG4gIGNvbnN0IGNvcHlyaWdodCA9IGNyZWF0ZUZvb3RlckxpbmsoJ0NvcHlyaWdodCA8aSBjbGFzcz1cImZhLXJlZ3VsYXIgZmEtY29weXJpZ2h0XCI+PC9pPiBKb3NoQWxsZW4nKTtcbiAgZm9vdGVyTGluay5hcHBlbmRDaGlsZChjb3B5cmlnaHQpO1xuICBmb290ZXIuYXBwZW5kQ2hpbGQoZm9vdGVyTGluayk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9vdGVyKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRm9vdGVyTGluayh0ZXh0KSB7XG4gIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICBsaW5rLmlubmVySFRNTCA9IHRleHQ7XG4gIHJldHVybiBsaW5rO1xufVxuXG5sZXQgY29udGVudDtcblxuZnVuY3Rpb24gY3JlYXRlQ29udGVudCgpIHtcbiAgaWYgKCFjb250ZW50KSB7XG4gICAgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnY29udGVudCcpO1xuICAgIGNvbnRlbnQuc2V0QXR0cmlidXRlKCdpZCcsICdtYWluQ29udGVudCcpO1xuXG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNpZGVNZW51KCkge1xuICBjb25zdCBjb250ZW50ID0gY3JlYXRlQ29udGVudCgpOyAvLyBDcmVhdGUgY29udGVudCBlbGVtZW50XG4gIGNvbnN0IHNpZGVNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHNpZGVNZW51LmNsYXNzTGlzdC5hZGQoJ3NpZGVNZW51Jyk7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQnV0dG9uKHRleHQsIGlkKSB7XG4gICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICBidXR0b24uaWQgPSBpZDtcbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgY29uc3QgaG9tZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBob21lLmNsYXNzTGlzdC5hZGQoJ2hvbWUnKTtcbiAgaG9tZS5pbm5lckhUTUwgPSAnPGgxPkhvbWU8L2gxPic7XG4gIGNvbnN0IGluYm94QnRuID0gY3JlYXRlQnV0dG9uKCdJbmJveCcsICdpbmJveCcpO1xuICBob21lLmFwcGVuZENoaWxkKGluYm94QnRuKTtcbiAgaG9tZS5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24oJ1RvZGF5JywgJ3RvZGF5JykpO1xuICBob21lLmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbignVGhpcyBXZWVrJywgJ3RoaXMtd2VlaycpKTtcblxuICBjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHByb2plY3QuY2xhc3NMaXN0LmFkZCgncHJvamVjdCcpO1xuICBwcm9qZWN0LmlubmVySFRNTCA9ICc8aDE+UHJvamVjdDwvaDE+JztcbiAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGNyZWF0ZUJ1dHRvbignKyBBZGQgUHJvamVjdCcsICdhZGQtcHJvamVjdCcpO1xuICBwcm9qZWN0LmFwcGVuZENoaWxkKGFkZFByb2plY3RCdG4pO1xuXG4gIHNpZGVNZW51LmFwcGVuZENoaWxkKGhvbWUpO1xuICBzaWRlTWVudS5hcHBlbmRDaGlsZChwcm9qZWN0KTtcbiAgY29udGVudC5hcHBlbmRDaGlsZChzaWRlTWVudSk7IC8vIEFwcGVuZCBzaWRlTWVudSB0byBjb250ZW50XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGVudCk7IC8vIEFwcGVuZCBjb250ZW50IHRvIHRoZSBib2R5XG5cbiAgaW5ib3hIYW5kbGVyKCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRvZG9MaXN0KCkge1xuICBjb25zdCBjb250ZW50ID0gY3JlYXRlQ29udGVudCgpO1xuICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxpc3QuY2xhc3NMaXN0LmFkZCgndG9kb0xpc3QnKTtcblxuICBjb25zdCB0b2RvQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHRvZG9CdG4uY2xhc3NMaXN0LmFkZCgndG9kb0J0bicpO1xuICB0b2RvQnRuLnRleHRDb250ZW50ID0gJ0FkZCBUby1EbyBMaXN0JztcblxuICBsaXN0LmFwcGVuZENoaWxkKHRvZG9CdG4pO1xuICBjb250ZW50LmFwcGVuZENoaWxkKGxpc3QpO1xufVxuXG5mdW5jdGlvbiBpbml0V2Vic2l0ZSgpIHtcbiAgY3JlYXRlSGVhZGVyKCk7XG4gIGNyZWF0ZVNpZGVNZW51KCk7XG4gIGNyZWF0ZVRvZG9MaXN0KCk7XG4gIGluaXRIYW5kbGVyKCk7XG4gIGNyZWF0ZUZvb3RlcigpO1xufVxuXG5leHBvcnQgeyBpbml0V2Vic2l0ZSwgY3JlYXRlQ29udGVudCB9O1xuIl0sIm5hbWVzIjpbImNyZWF0ZUxhYmVsIiwidGV4dCIsImh0bWxGb3IiLCJsYWJlbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiY3JlYXRlSW5wdXQiLCJ0eXBlIiwiaWQiLCJyZXF1aXJlZCIsImlucHV0IiwiaW5ib3hIYW5kbGVyIiwidG9kb0J0biIsInF1ZXJ5U2VsZWN0b3IiLCJpbmJveEJ0biIsImdldEVsZW1lbnRCeUlkIiwiY29udGVudCIsInN0eWxlIiwiZGlzcGxheSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1vZGFsIiwiYWRkIiwibW9kYWxDb250ZW50IiwiY2xvc2VCdG4iLCJpbm5lckhUTUwiLCJuYW1lTGFiZWwiLCJuYW1lSW5wdXQiLCJkYXRlTGFiZWwiLCJkYXRlSW5wdXQiLCJzdWJtaXRCdG4iLCJhcHBlbmRDaGlsZCIsImNyZWF0ZU1vZGFsIiwiY2xvc2VNb2RhbCIsInN1Ym1pdFRvZG8iLCJjbG9zZSIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmUiLCJ0b2RvTGlzdCIsInRvZG9JdGVtV3JhcHBlciIsInRvZG9OYW1lIiwidmFsdWUiLCJ0b2RvRGF0ZSIsInRvZG9JdGVtIiwiY2hlY2ttYXJrU3BhbiIsImNoZWNrYm94IiwibmFtZUVsZW1lbnQiLCJkYXRlRWxlbWVudCIsIkRhdGUiLCJzb3J0ZWRUb2RvSXRlbXMiLCJBcnJheSIsImZyb20iLCJjaGlsZHJlbiIsInNvcnQiLCJhIiwiYiIsImZvckVhY2giLCJpdGVtIiwicGFyZW50RWxlbWVudCIsImNoZWNrZWQiLCJwcm9qZWN0SGFuZGxlciIsImFkZFByb2plY3RCdG4iLCJwcm9qZWN0RGl2IiwiY2xpY2tIYW5kbGVyIiwiaW5wdXRFbGVtZW50IiwicGxhY2Vob2xkZXIiLCJjYW5jZWxCdG4iLCJjb250YWluZXIiLCJwcm9qZWN0TmFtZSIsInRyaW0iLCJwcm9qZWN0SXRlbSIsInByb2plY3ROYW1lU3BhbiIsImRlbGV0ZUJ0biIsImNoZWNrU2Nyb2xsQmFyIiwiYWxlcnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwib3ZlcmZsb3dZIiwiY3JlYXRlQ29udGVudCIsImhlYWRlciIsInRpdGxlIiwiYm9keSIsImNyZWF0ZUhlYWRlciIsInNpZGVNZW51IiwiY3JlYXRlQnV0dG9uIiwiYnV0dG9uIiwiaG9tZSIsInByb2plY3QiLCJjcmVhdGVTaWRlTWVudSIsImxpc3QiLCJjcmVhdGVUb2RvTGlzdCIsImFjdGl2ZUJ0biIsImZvb3RlciIsImZvb3RlckxpbmsiLCJjb3B5cmlnaHQiLCJsaW5rIiwiY3JlYXRlRm9vdGVyTGluayIsImNyZWF0ZUZvb3RlciJdLCJzb3VyY2VSb290IjoiIn0=